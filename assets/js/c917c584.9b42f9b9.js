"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[851],{426:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"check-types/max","title":"Max Check","description":"The max check validates the maximum value of a numeric column. This check helps ensure data quality by validating that the largest values in your dataset meet expectations and don\'t exceed reasonable bounds.","source":"@site/docs/check-types/max.md","sourceDirName":"check-types","slug":"/check-types/max","permalink":"/docs/check-types/max","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Min Check","permalink":"/docs/check-types/min"},"next":{"title":"Measure Check","permalink":"/docs/check-types/measure"}}');var l=s(4848),a=s(8453);const r={},d="Max Check",t={},c=[{value:"Configuration",id:"configuration",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic Max Check",id:"basic-max-check",level:3},{value:"Max with Filter",id:"max-with-filter",level:3},{value:"Max by Dimensions",id:"max-by-dimensions",level:3},{value:"Max with Time Dimension",id:"max-with-time-dimension",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Generated SQL",id:"generated-sql",level:2},{value:"Example Results",id:"example-results",level:2},{value:"Data Types",id:"data-types",level:2},{value:"NULL Handling",id:"null-handling",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Fraud Detection",id:"fraud-detection",level:3},{value:"Performance Monitoring",id:"performance-monitoring",level:3},{value:"Data Validation",id:"data-validation",level:3},{value:"System Limits",id:"system-limits",level:3},{value:"Performance Tips",id:"performance-tips",level:2},{value:"Alerting Scenarios",id:"alerting-scenarios",level:2},{value:"Related Checks",id:"related-checks",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"max-check",children:"Max Check"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"max"})," check validates the maximum value of a numeric column. This check helps ensure data quality by validating that the largest values in your dataset meet expectations and don't exceed reasonable bounds."]}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Required"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"name"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Unique name for the check"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"dataset"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Table name or SQL query"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"type"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsxs)(n.td,{children:["Must be ",(0,l.jsx)(n.code,{children:"max"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"measure"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Column name to find maximum"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"condition"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Comparison operator"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"threshold"})}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Value to compare against"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"dimensions"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"Group by columns"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"filter"})}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"WHERE clause conditions"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.h3,{id:"basic-max-check",children:"Basic Max Check"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: maximum_order_amount\n  dataset: orders\n  type: max\n  measure: order_amount\n  condition: le\n  threshold: 10000\n"})}),"\n",(0,l.jsx)(n.p,{children:"This check ensures no order exceeds $10,000."}),"\n",(0,l.jsx)(n.h3,{id:"max-with-filter",children:"Max with Filter"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: max_discount_percentage\n  dataset: promotions\n  type: max\n  measure: discount_percentage\n  condition: le\n  threshold: 0.5\n  filter: status = 'active'\n"})}),"\n",(0,l.jsx)(n.p,{children:"This check validates that active promotions don't exceed 50% discount."}),"\n",(0,l.jsx)(n.h3,{id:"max-by-dimensions",children:"Max by Dimensions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: max_salary_by_level\n  dataset: employees\n  type: max\n  measure: salary\n  dimensions: [job_level]\n  condition: le\n  threshold: 200000\n"})}),"\n",(0,l.jsx)(n.p,{children:"This check ensures maximum salary per job level doesn't exceed $200K."}),"\n",(0,l.jsx)(n.h3,{id:"max-with-time-dimension",children:"Max with Time Dimension"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: daily_max_temperature\n  dataset: sensor_readings\n  type: max\n  measure: temperature\n  condition: le\n  threshold: 45\n  time_dimension:\n    name: reading_date\n    granularity: day\n"})}),"\n",(0,l.jsx)(n.p,{children:"This check validates daily maximum temperature stays below 45\xb0."}),"\n",(0,l.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Data Quality"}),": Ensure no unreasonably high values"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Business Rules"}),": Validate maximum acceptable limits"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Range Validation"}),": Check upper bounds of data ranges"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Outlier Detection"}),": Identify potentially problematic maximum values"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Security"}),": Prevent values that might indicate data issues or attacks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Compliance"}),": Ensure maximum limits are not exceeded"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"generated-sql",children:"Generated SQL"}),"\n",(0,l.jsx)(n.p,{children:"The max check generates SQL like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT MAX(order_amount)\nFROM orders\nWHERE status = 'completed'\n"})}),"\n",(0,l.jsx)(n.p,{children:"With dimensions:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT job_level, MAX(salary)\nFROM employees\nGROUP BY job_level\n"})}),"\n",(0,l.jsx)(n.h2,{id:"example-results",children:"Example Results"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u2713 maximum_order_amount: 8500.00 (\u2264 10000)\n\u2717 max_discount_percentage: 0.75 (\u2264 0.5)\n\u2713 max_salary_by_level_senior: 180000 (\u2264 200000)\n\u2717 max_salary_by_level_executive: 250000 (\u2264 200000)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"data-types",children:"Data Types"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"measure"})," column should be numeric or comparable. Common types include:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"INTEGER"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"DECIMAL"})," / ",(0,l.jsx)(n.code,{children:"NUMERIC"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"FLOAT"})," / ",(0,l.jsx)(n.code,{children:"DOUBLE"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"DATE"})," / ",(0,l.jsx)(n.code,{children:"TIMESTAMP"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"TIME"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"null-handling",children:"NULL Handling"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MAX()"})," ignores NULL values automatically"]}),"\n",(0,l.jsxs)(n.li,{children:["If all values are NULL, ",(0,l.jsx)(n.code,{children:"MAX()"})," returns NULL"]}),"\n",(0,l.jsx)(n.li,{children:"The check will fail if MAX() returns NULL (unless specifically handled)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,l.jsx)(n.h3,{id:"fraud-detection",children:"Fraud Detection"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: suspicious_transaction_amount\n  dataset: transactions\n  type: max\n  measure: amount\n  condition: le\n  threshold: 100000\n  dimensions: [user_id]\n"})}),"\n",(0,l.jsx)(n.h3,{id:"performance-monitoring",children:"Performance Monitoring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: max_response_time\n  dataset: api_logs\n  type: max\n  measure: response_time_ms\n  condition: le\n  threshold: 30000  # 30 seconds max\n"})}),"\n",(0,l.jsx)(n.h3,{id:"data-validation",children:"Data Validation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: age_upper_bound\n  dataset: users\n  type: max\n  measure: age\n  condition: le\n  threshold: 120  # Reasonable max age\n"})}),"\n",(0,l.jsx)(n.h3,{id:"system-limits",children:"System Limits"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"- name: max_file_size\n  dataset: uploads\n  type: max\n  measure: file_size_bytes\n  condition: le\n  threshold: 104857600  # 100MB max\n"})}),"\n",(0,l.jsx)(n.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Indexes"}),": Ensure the measure column has appropriate indexes"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Partitioning"}),": Use partitioning for time-based queries"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Filters"}),": Apply filters to reduce data scanning"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Statistics"}),": Keep table statistics updated for query optimization"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"alerting-scenarios",children:"Alerting Scenarios"}),"\n",(0,l.jsx)(n.p,{children:"Max checks are particularly useful for alerting on:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Anomalous spikes"})," in transaction amounts"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Performance degradation"})," (response times, queue lengths)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Resource exhaustion"})," (disk usage, memory consumption)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Data quality issues"})," (unrealistic values)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"related-checks",children:"Related Checks"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/check-types/min",children:(0,l.jsx)(n.strong,{children:"Min"})})," - Minimum value validation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/check-types/sum",children:(0,l.jsx)(n.strong,{children:"Sum"})})," - Sum aggregation validation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/check-types/numeric",children:(0,l.jsx)(n.strong,{children:"Numeric"})})," - Custom numeric expressions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var i=s(6540);const l={},a=i.createContext(l);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);