"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[428],{7917:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"check-types/not-empty-pct","title":"Not Empty Percentage Check","description":"The notemptypct check validates that the percentage of NULL values in specified dimensions does not exceed a threshold. This check is similar to not_empty but uses percentage-based thresholds instead of absolute counts.","source":"@site/docs/check-types/not-empty-pct.md","sourceDirName":"check-types","slug":"/check-types/not-empty-pct","permalink":"/docs/check-types/not-empty-pct","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Not Empty Check","permalink":"/docs/check-types/not-empty"},"next":{"title":"Anomaly Detection Check","permalink":"/docs/check-types/anomaly"}}');var l=n(4848),c=n(8453);const i={},d="Not Empty Percentage Check",r={},o=[{value:"Configuration",id:"configuration",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic Percentage Check",id:"basic-percentage-check",level:3},{value:"Strict Completeness",id:"strict-completeness",level:3},{value:"Higher Tolerance for Optional Fields",id:"higher-tolerance-for-optional-fields",level:3},{value:"Default Threshold",id:"default-threshold",level:3},{value:"Threshold Format",id:"threshold-format",level:2},{value:"Behavior",id:"behavior",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Generated SQL",id:"generated-sql",level:2},{value:"Example Results",id:"example-results",level:2},{value:"Comparison with Not Empty Check",id:"comparison-with-not-empty-check",level:2},{value:"Related Checks",id:"related-checks",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"not-empty-percentage-check",children:"Not Empty Percentage Check"})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"not_empty_pct"})," check validates that the percentage of NULL values in specified dimensions does not exceed a threshold. This check is similar to ",(0,l.jsx)(s.code,{children:"not_empty"})," but uses percentage-based thresholds instead of absolute counts."]}),"\n",(0,l.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Parameter"}),(0,l.jsx)(s.th,{children:"Required"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"name"})}),(0,l.jsx)(s.td,{children:"Yes"}),(0,l.jsx)(s.td,{children:"Unique name for the check"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"dataset"})}),(0,l.jsx)(s.td,{children:"Yes"}),(0,l.jsx)(s.td,{children:"Table name or SQL query"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"type"})}),(0,l.jsx)(s.td,{children:"Yes"}),(0,l.jsxs)(s.td,{children:["Must be ",(0,l.jsx)(s.code,{children:"not_empty_pct"})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"dimensions"})}),(0,l.jsx)(s.td,{children:"Yes"}),(0,l.jsx)(s.td,{children:"List of columns to check for NULL values"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"condition"})}),(0,l.jsx)(s.td,{children:"Yes"}),(0,l.jsxs)(s.td,{children:["Comparison operator (typically ",(0,l.jsx)(s.code,{children:"le"}),' for "less than or equal")']})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"threshold"})}),(0,l.jsx)(s.td,{children:"No"}),(0,l.jsx)(s.td,{children:"Maximum allowed NULL percentage as decimal (0.0-1.0, default: 0.0)"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"filter"})}),(0,l.jsx)(s.td,{children:"No"}),(0,l.jsx)(s.td,{children:"WHERE clause conditions"})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(s.h3,{id:"basic-percentage-check",children:"Basic Percentage Check"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:"- name: customer_data_completeness_pct\n  dataset: customers\n  type: not_empty_pct\n  dimensions: [phone, address]\n  condition: le\n  threshold: 0.05  # Allow up to 5% NULL values\n"})}),"\n",(0,l.jsx)(s.p,{children:"This check ensures that no more than 5% of customers have NULL phone or address values."}),"\n",(0,l.jsx)(s.h3,{id:"strict-completeness",children:"Strict Completeness"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:"- name: critical_fields_complete\n  dataset: orders\n  type: not_empty_pct\n  dimensions: [customer_id, product_id]\n  condition: le\n  threshold: 0.0  # No NULL values allowed (0%)\n"})}),"\n",(0,l.jsx)(s.p,{children:"This check requires 100% completeness for critical order fields."}),"\n",(0,l.jsx)(s.h3,{id:"higher-tolerance-for-optional-fields",children:"Higher Tolerance for Optional Fields"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:"- name: optional_fields_check\n  dataset: users\n  type: not_empty_pct\n  dimensions: [middle_name, phone_secondary]\n  condition: le\n  threshold: 0.8  # Allow up to 80% NULL values\n"})}),"\n",(0,l.jsx)(s.p,{children:"This check allows optional fields to have high NULL rates."}),"\n",(0,l.jsx)(s.h3,{id:"default-threshold",children:"Default Threshold"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:"- name: required_fields_pct\n  dataset: products\n  type: not_empty_pct\n  dimensions: [product_name, price]\n  condition: le\n  # No threshold specified - defaults to 0.0 (0%)\n"})}),"\n",(0,l.jsx)(s.p,{children:"When no threshold is specified, it defaults to 0.0 (no NULL values allowed)."}),"\n",(0,l.jsx)(s.h2,{id:"threshold-format",children:"Threshold Format"}),"\n",(0,l.jsx)(s.p,{children:"Thresholds are specified as decimal values between 0.0 and 1.0:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"0.0"})," = 0% (no NULL values allowed)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"0.05"})," = 5% (up to 5% NULL values allowed)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"0.1"})," = 10% (up to 10% NULL values allowed)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"0.5"})," = 50% (up to 50% NULL values allowed)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"1.0"})," = 100% (all values can be NULL)"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"behavior",children:"Behavior"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Individual Dimension Checks"}),": The check runs separately for each dimension specified"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Result per Dimension"}),": Each dimension generates its own check result"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Naming Convention"}),": Results are named as ",(0,l.jsx)(s.code,{children:"{original_name}_{dimension}_not_empty_pct"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Percentage Calculation"}),": Automatically calculates NULL percentage using SQL CAST operations"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Data Quality with Tolerance"}),": Allow some missing data while maintaining quality"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Business Rules"}),": Validate acceptable completeness rates"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"SLA Monitoring"}),": Ensure data completeness meets service level agreements"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Gradual Improvement"}),": Set improving targets over time (e.g., reduce from 10% to 5%)"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"generated-sql",children:"Generated SQL"}),"\n",(0,l.jsx)(s.p,{children:"For each dimension, the check generates percentage calculation SQL like:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-sql",children:"SELECT CAST(SUM(CASE WHEN phone IS NULL THEN 1 ELSE 0 END) AS FLOAT) / CAST(COUNT(*) AS FLOAT)\nFROM customers\nWHERE status = 'active'\n"})}),"\n",(0,l.jsx)(s.p,{children:"This automatically calculates the percentage as a decimal (e.g., 0.05 for 5%)."}),"\n",(0,l.jsx)(s.h2,{id:"example-results",children:"Example Results"}),"\n",(0,l.jsxs)(s.p,{children:["If checking ",(0,l.jsx)(s.code,{children:"phone"})," and ",(0,l.jsx)(s.code,{children:"email"})," dimensions with a 5% threshold, you might get:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"\u2713 customer_completeness_phone_not_empty_pct: 0.03 (3% \u2264 5%)\n\u2717 customer_completeness_email_not_empty_pct: 0.08 (8% > 5%)\n"})}),"\n",(0,l.jsx)(s.h2,{id:"comparison-with-not-empty-check",children:"Comparison with Not Empty Check"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Aspect"}),(0,l.jsx)(s.th,{children:"not_empty"}),(0,l.jsx)(s.th,{children:"not_empty_pct"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"Threshold Type"}),(0,l.jsx)(s.td,{children:"Absolute count"}),(0,l.jsx)(s.td,{children:"Percentage (0.0-1.0)"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"Use Case"}),(0,l.jsx)(s.td,{children:"Fixed datasets"}),(0,l.jsx)(s.td,{children:"Variable dataset sizes"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"Example"}),(0,l.jsx)(s.td,{children:"\u2264 100 NULL values"}),(0,l.jsx)(s.td,{children:"\u2264 5% NULL values"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"Scalability"}),(0,l.jsx)(s.td,{children:"Poor for growing data"}),(0,l.jsx)(s.td,{children:"Scales with data size"})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"related-checks",children:"Related Checks"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.a,{href:"/docs/check-types/not-empty",children:(0,l.jsx)(s.strong,{children:"Not Empty"})})," - Similar check but using absolute count thresholds"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var t=n(6540);const l={},c=t.createContext(l);function i(e){const s=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(c.Provider,{value:s},e.children)}}}]);